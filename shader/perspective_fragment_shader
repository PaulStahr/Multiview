#version 330

in highp vec3 flow;
in highp vec3 fpos;
in highp vec3 gpos;
in highp vec2 texCoordV;
uniform sampler2D mapKd;
uniform int objid;

//layout(early_fragment_tests) in;

layout(location = 0) out vec4 colout;
layout(location = 1) out vec3 flowout;
layout(location = 2) out vec3 posout;
layout(location = 3) out vec3 idout;

void main() {
    colout = texture2D(mapKd, texCoordV);
    highp float ilen = length(fpos);
    flowout = flow/ilen;
    posout = gpos;
    idout = vec3(objid)/0xFF;


   /* gl_FragData[0] = texture2D(mapKd, texCoordV);
    highp float ilen = length(fpos);
    gl_FragData[1].xyz = flow/ilen;
    gl_FragData[2].xyz = gpos;
    gl_FragData[3].x = float(objid);*/
};
